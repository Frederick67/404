<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>RMK AI - Server</title>
</head>
<style type="text/css">
  body {
    font-family: 'Consolas', sans-serif;
    color: white;
    background: blue;
    font-size: large;
  }
  
  h3,p {
    margin: 0px;
  }

  .console {
    margin: 0px;
  }
  
  .console::before {
    content: 'api@rkm:~$'
  }
  
  .denied {
    position: absolute;
    right: 50%;
    top: 25%;
  }

  .nedry-body {
    position: relative;
    top: 0;
    left: 0;
  }
  
  .nedry-head {
    position: absolute;
    top: 35px;
    left: 140px;
  }
  
  .nedry-hand{
    position: absolute;
    top: 155px;
    left: 265px;
    animation: handFrames linear 1s;
    animation-iteration-count: infinite;
    transform-origin: 50% 100%;
    -webkit-animation: handFrames linear 0.7s;
    -webkit-animation-iteration-count: infinite;
    -webkit-transform-origin: 50% 100%;
  }
  
  @keyframes handFrames{
    0% {
      transform:  rotate(-10deg) ;
    }
    50% {
      transform:  rotate(14deg) ;
    }
    100% {
      transform:  rotate(-10deg) ;
    }
  }
</style>
<body onclick="playSound()">
<!-- partial:index.partial.html -->
<h3>RKM API, System Interface</h3>
<h3>Version 4.0.5, Alpha E</h3>
<h3>404 Not found...</h3>
<input hidden id="unmuteButton" type="button" onclick="playSound()" value="ðŸ”ˆ Unmute" />
<div id="element">
</div>
<h3 id="element2"></h3>
<div hidden class="denied">
    <img class="nedry-body" src="https://github.com/Frederick67/404/blob/main/resources/body.png?raw=true">
    <img class="nedry-head" src="https://github.com/Frederick67/404/blob/main/resources/head.png?raw=true">
    <img class="nedry-hand" src="https://github.com/Frederick67/404/blob/main/resources/hand.png?raw=true">
  </div>
  <audio id="player" loop>
    <source src="https://github.com/Frederick67/404/raw/main/resources/ahahah.mp3" type="audio/mp3">
  </audio>
<!-- partial -->
</body>
<script src='https://cdnjs.cloudflare.com/ajax/libs/typeit/5.0.2/typeit.min.js'></script>
<script type="text/javascript">
 
//var type = new TypeIt('#element', { cursor: false});
let soundBool = false;
/*addCommand(type,400, 55,`<p class='console'> access main program</p>`);
addCommand(type,1300,65,`<p class='console'> access main security</p>`);
addCommand(type,1000,45,`<p class='console'> access security</p>`);
addCommand(type,1000,45,`<p class='console'> access main security grid</p>`, true);*/

/*Commands
access main program
access main security
access security
access main security grid*/

let wait = true;
waitForInput();



var access_main_program_command = "access main program";
var access_main_security_command = "access main security";
var access_security_command = "access security";
var access_main_security_grid_command = "access main security grid";

var access_main_program_char = access_main_program_command.split("");
var access_main_security_char = access_main_security_command.split("");
var access_security_char = access_security_command.split("");
var access_main_security_grid_char = access_main_security_grid_command.split("");


var access_main_program = true;
var access_main_security = false;
var access_security = false;
var access_main_security_grid = false;
type = document.getElementById("element");
var counter = 0;
var access_main_program_lenght = access_main_program_char.length;
var access_main_security_lenght = access_main_security_char.length;
var access_security_lenght = access_security_char.length;
var access_main_security_grid_lenght = access_main_security_grid_char.length;

const basicResponse = 'access: PERMISSION DENIED.';
document.addEventListener('keydown', function (event) {
  wait = false;
  if(access_main_program)
  {
    if(document.getElementById("access_main_program") == null)
    {
      //type.InnerHTML += "<p id='access_main_program' class='console'></p>";
      //add the <p> to the div
      var p = document.createElement("h3");
      p.setAttribute("id", "access_main_program");
      p.setAttribute("class", "console");
      document.getElementById("element").appendChild(p);

    }
      
    var p = document.getElementById("access_main_program");

    //p.InnerHTML += access_main_program_char[counter];
    //add the char to the <p>
    var text = document.createTextNode(access_main_program_char[counter]);
    p.appendChild(text);
    counter++;
    if(counter == access_main_program_lenght)
    {
      //add a br and the response
      var br = document.createElement("br");
      p.appendChild(br);
      var text = document.createTextNode(basicResponse);
      p.appendChild(text);
      access_main_program = false;
      access_main_security = true;
      counter = 0;
    }
  }

    if (access_main_security)
    {
      if(document.getElementById("access_main_security") == null)
      {
        //type.InnerHTML += "<p id='access_main_program' class='console'></p>";
        //add the <p> to the div
        var p = document.createElement("h3");
        p.setAttribute("id", "access_main_security");
        p.setAttribute("class", "console");
        document.getElementById("element").appendChild(p);

      }
        
      var p = document.getElementById("access_main_security");

      //p.InnerHTML += access_main_program_char[counter];
      //add the char to the <p>
      var text = document.createTextNode(access_main_security_char[counter]);
      p.appendChild(text);
      counter++;
      if(counter == access_main_security_lenght)
      {
        //add a br and the response
        var br = document.createElement("br");
        p.appendChild(br);
        var text = document.createTextNode(basicResponse);
        p.appendChild(text);
        access_main_security = false;
        access_security = true;
        counter = 0;
      }
    }

    if (access_security)
    {
      if(document.getElementById("access_security") == null)
      {
        //type.InnerHTML += "<p id='access_main_program' class='console'></p>";
        //add the <p> to the div
        var p = document.createElement("h3");
        p.setAttribute("id", "access_security");
        p.setAttribute("class", "console");
        document.getElementById("element").appendChild(p);

      }
      var p = document.getElementById("access_security");
      //p.InnerHTML += access_main_program_char[counter];
      //add the char to the <p>
      var text = document.createTextNode(access_security_char[counter]);
      p.appendChild(text);
      counter++;
      if(counter == access_security_lenght)
      {
        //add a br and the response
        var br = document.createElement("br");
        p.appendChild(br);
        var text = document.createTextNode(basicResponse);
        p.appendChild(text);
        access_security = false;
        access_main_security_grid = true;
        counter = 0;
      }
    }

    if (access_main_security_grid)
    {
      if(document.getElementById("access_main_security_grid") == null)
      {
        //type.InnerHTML += "<p id='access_main_program' class='console'></p>";
        //add the <p> to the div
        var p = document.createElement("h3");
        p.setAttribute("id", "access_main_security_grid");
        p.setAttribute("class", "console");
        document.getElementById("element").appendChild(p);

      }
        
      var p = document.getElementById("access_main_security_grid");

      //p.InnerHTML += access_main_program_char[counter];
      //add the char to the <p>
      var text = document.createTextNode(access_main_security_grid_char[counter]);
      p.appendChild(text);
      counter++;
      if(counter == access_main_security_grid_lenght)
      {
        //add a br and the response
        var br = document.createElement("br");
        p.appendChild(br);
        var text = document.createTextNode(basicResponse);
        p.appendChild(text);
        access_main_security_grid = false;
        counter = 0;
      }
    }

    if(!access_main_program && !access_main_security && !access_security && !access_main_security_grid)
    {
      var type2 = new TypeIt('#element2', { cursor: false});
      document.getElementsByClassName("denied")[0].removeAttribute("hidden"); document.getElementById("unmuteButton").removeAttribute("hidden"); soundBool=true;
      magicWord(type2);

      
    }

});


function magicWord(type) {
  for (var index=0;index<40;index++) {
    type.pause(4)
      .options({speed: 0})
      .type(`YOU DIDN'T SAY THE MAGIC WORD!`)
      .break();
  }
}


function waitForInput() {
  var h3 = document.createElement("h3");
  h3.textContent = "api@rkm:~$ ";
  document.body.appendChild(h3);

  var element = document.createElement("div");
  document.body.appendChild(element);

  var cursorVisible = true;

  function toggleCursor() {
    if (wait) { // Verifica se wait Ã¨ false
      if (cursorVisible) {
        h3.innerHTML += "â–®";
      } else {
        //remove only the last char
        h3.innerHTML = h3.innerHTML.slice(0, -1);
      }
      cursorVisible = !cursorVisible;
    }
  }

  // Aggiungi un intervallo per il cursore
  var cursorInterval = setInterval(toggleCursor, 500);

  // Aggiungi un evento per interrompere il blinking quando viene premuto un tasto
  document.addEventListener("keydown", function () {
    clearInterval(cursorInterval);
    h3.innerHTML = ""; // Rimuovi il cursore
    element.innerHTML = ""; // Rimuovi il cursore
  });
}


// Chiamare la funzione magicWord per avviare il proces

const sound = document.getElementById('player');

sound.addEventListener('play', (event) => {
    document.getElementById("unmuteButton").hidden = true;
});

sound.addEventListener('pause', (event) => {
    document.getElementById("unmuteButton").hidden = false;
});

function playSound() {
  console.log("playSound" + soundBool);
    if(soundBool)
      
      document.getElementById("player").play();
  }
</script>
</html>
